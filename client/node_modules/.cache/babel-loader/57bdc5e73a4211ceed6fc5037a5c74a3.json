{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/moonbox/Documents/capstone/pantrypal/client/src/Components/ShoppingList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Actions from './ShopActions';\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { faShoppingBasket, faCartArrowDown, faPlusCircle, faCogs } from '@fortawesome/free-solid-svg-icons';\nimport { findShopList, getShopList } from '../redux/actions/userShopList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SearchPage from './SearchPage';\nimport OpenFoodSearch from '../Containers/OpenFoodSearch';\nimport './toolbar.css';\nlibrary.add(faShoppingBasket, faCartArrowDown, faPlusCircle, faCogs);\ndom.watch(); //IMPORTANT NOTE!!!\n//there should be three version of this \n//primary list \n//rename shop list \n//view items \n//start shopping  - end shopping \n//check items off \n//add items to pantry \n//add items \n//remove items\n//update items  \n//~~editor \n//view items \n//add items\n//update items \n//remove items\n//start shopping  - end shopping \n//check items off \n//~~requests\n//view items \n//request items \n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(4)\n  },\n  paper: {\n    width: '90%',\n    marginLeft: theme.spacing(4),\n    marginBottom: theme.spacing(2)\n  },\n  toolbar: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    alignSelf: 'start',\n    padding: '2%'\n  },\n  table: {\n    minWidth: 750\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  },\n  highlight: theme.palette.type === 'light' ? {\n    color: theme.palette.secondary.main,\n    backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n  } : {\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.secondary.dark\n  }\n}));\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Transition;\n\nconst ShoppingList = props => {\n  _s();\n\n  const {\n    shopListId\n  } = props.userDetails;\n  const {\n    call\n  } = props.userShopList;\n  const {\n    token\n  } = props.user.pass;\n  const {\n    userShopList\n  } = props;\n  const classes = useStyles();\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('item');\n  const [selected, setSelected] = useState([]);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const {\n    shopping,\n    setShopping\n  } = useState(false);\n  useEffect(() => {\n    if (call === false) {\n      return props.findShopList(shopListId, token, props.user.username);\n    }\n  }); //click handlers \n\n  const handleClick = (e, name) => {\n    e.preventDefault();\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      console.log('click', item);\n    }\n\n    setSelected(newSelected);\n  };\n\n  const isSelected = name => selected.indexOf(name) !== -1; //page handlers\n\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n    console.log('new page', newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n    console.log('set pages?', setPage(0));\n  };\n\n  const getComparator = (order, orderBy) => {\n    return order === 'desc' ? (a, b) => descendingComparator(a, b, orderBy) : (a, b) => -descendingComparator(a, b, orderBy);\n  };\n\n  const stableSort = (array, comparator) => {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n      const order = comparator(a[0], b[0]);\n      if (order !== 0) return order;\n      return a[1] - b[1];\n    });\n    return stabilizedThis.map(el => el[0]);\n  };\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, userShopList.list.length - page * rowsPerPage); //header sorting \n\n  const headCells = [{\n    id: 'quantity',\n    numeric: true,\n    disablePadding: false,\n    label: 'Quantity'\n  }, {\n    id: 'items',\n    numeric: false,\n    disablePadding: false,\n    label: 'Items'\n  }, {\n    id: 'unit',\n    numeric: true,\n    disablePadding: false,\n    label: 'Unit'\n  }, {\n    id: 'actions',\n    numeric: false,\n    disablePadding: false,\n    label: 'Actions'\n  }];\n\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  }; //tool bar\n\n\n  const openSearch = e => {\n    e.preventDefault();\n    console.log('you want to search for food');\n    props.openFoodSearch = true;\n  };\n\n  const startShopping = e => {\n    e.preventDefault();\n    console.log('so you want to start shopping');\n    setShopping = true;\n  };\n\n  const doneShopping = e => {\n    e.preventDefault();\n    console.log('your done shopping, should get added to pantry now');\n    setShopping = false;\n  }; //food search page\n\n\n  const Transition = /*#__PURE__*/React.forwardRef(function Transition(props, ref) {\n    return /*#__PURE__*/_jsxDEV(Slide, {\n      direction: \"up\",\n      ref: ref,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 12\n    }, this);\n  });\n\n  if (call) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n          className: clsx(classes.toolbar, {\n            [classes.highlight]: selected.length > 0\n          }),\n          children: [selected.length > 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.title,\n            color: \"inherit\",\n            variant: \"subtitle1\",\n            component: \"div\",\n            children: [selected.length, \" selected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.title,\n            variant: \"h6\",\n            id: \"tableTitle\",\n            component: \"div\",\n            children: \"Your Shopping List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OpenFoodSearch, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 16\n          }, this), props.openFoodSearch === true ? /*#__PURE__*/_jsxDEV(SearchPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 47\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 63\n          }, this), setShopping ? /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Finished Shopping\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"finish shopping\",\n              onClick: doneShopping,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"fas fa-cart-arrow-down\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Start Shopping\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"start shopping\",\n              onClick: startShopping,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"fas fa-shopping-basket\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            \"aria-labelledby\": \"your shopping list\",\n            \"aria-label\": \"shopping list\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: headCells.map(headCell => /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: headCell.numeric ? 'center' : 'left',\n                  padding: headCell.disablePadding ? 'none' : 'default'\n                  /* We don't really need sorting on update and delete, we should change that  */\n                  ,\n                  sortDirection: orderBy === headCell.id ? order : false,\n                  children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                    active: orderBy === headCell.id,\n                    direction: orderBy === headCell.id ? order : 'asc',\n                    onClick: createSortHandler(headCell.id),\n                    children: [headCell.label, orderBy === headCell.id ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: classes.visuallyHidden,\n                      children: order === 'desc' ? 'sorted descending' : 'sorted ascending'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 29\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this)\n                }, headCell.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: userShopList.list.map((row, index) => {\n                const isItemSelected = isSelected(row.entryId);\n                const labelId = `check box${index}`;\n                console.log('is item selected? ', isItemSelected);\n                return /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  onClick: e => handleClick(e, userShopList.list.entryId),\n                  role: \"checkbox\",\n                  \"aria-checked\": isItemSelected,\n                  tabIndex: -1,\n                  selected: isItemSelected,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    padding: \"checkbox\",\n                    children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      padding: \"10\",\n                      checked: isItemSelected // inputProps={{ 'list item number ': labelId }}\n\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    component: \"th\",\n                    id: labelId,\n                    scope: \"row\",\n                    align: \"center\",\n                    children: null ? 1 : row.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"left\",\n                    children: row.item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: row.measId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"left\",\n                    children: [row.actions, /*#__PURE__*/_jsxDEV(Actions, {\n                      action: userShopList.list.entryId\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this)]\n                }, row.entryId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n          rowsPerPageOptions: [10, 25, 50],\n          component: \"div\",\n          count: userShopList.list.length,\n          rowsPerPage: rowsPerPage,\n          page: page,\n          onChangePage: handleChangePage,\n          onChangeRowsPerPage: handleChangeRowsPerPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          className: classes.table,\n          \"aria-labelledby\": \"your shopping list\",\n          \"aria-label\": \"shopping list\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this);\n  }\n}; // export default withStyles(useStyles)(ShoppingList)\n\n\n_s(ShoppingList, \"Zsh0nkTDH6Cpsq/3FtJy+viA6jY=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = ShoppingList;\nexport default ShoppingList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"ShoppingList\");","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/Components/ShoppingList.js"],"names":["React","useEffect","useState","lighten","makeStyles","PropTypes","clsx","Typography","Toolbar","Table","TableHead","TableSortLabel","TableBody","TableCell","TableContainer","TablePagination","TableRow","Checkbox","Paper","IconButton","Tooltip","Actions","library","dom","faShoppingBasket","faCartArrowDown","faPlusCircle","faCogs","findShopList","getShopList","MenuItem","SearchPage","OpenFoodSearch","add","watch","useStyles","theme","root","width","marginTop","spacing","paper","marginLeft","marginBottom","toolbar","display","justifyContent","alignSelf","padding","table","minWidth","visuallyHidden","border","clip","height","margin","overflow","position","top","highlight","palette","type","color","secondary","main","backgroundColor","light","text","primary","dark","Transition","forwardRef","props","ref","ShoppingList","shopListId","userDetails","call","userShopList","token","user","pass","classes","order","setOrder","orderBy","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","shopping","setShopping","username","handleClick","e","name","preventDefault","selectedIndex","indexOf","newSelected","concat","slice","length","console","log","item","isSelected","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","getComparator","a","b","descendingComparator","stableSort","array","comparator","stabilizedThis","map","el","index","sort","emptyRows","Math","min","list","headCells","id","numeric","disablePadding","label","createSortHandler","property","onRequestSort","handleRequestSort","isAsc","openSearch","openFoodSearch","startShopping","doneShopping","title","headCell","row","isItemSelected","entryId","labelId","quantity","measId","actions"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}  from 'react';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx'\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Actions from './ShopActions'\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { faShoppingBasket, faCartArrowDown, faPlusCircle, faCogs } from '@fortawesome/free-solid-svg-icons';\nimport { findShopList, getShopList } from '../redux/actions/userShopList';\nimport MenuItem from '@material-ui/core/MenuItem'\nimport SearchPage from './SearchPage'\nimport OpenFoodSearch from '../Containers/OpenFoodSearch'\nimport './toolbar.css'\n\n\nlibrary.add(faShoppingBasket, faCartArrowDown, faPlusCircle, faCogs) \ndom.watch()\n\n\n  //IMPORTANT NOTE!!!\n\n  //there should be three version of this \n\n  //primary list \n  //rename shop list \n  //view items \n  //start shopping  - end shopping \n    //check items off \n    //add items to pantry \n  //add items \n  //remove items\n  //update items  \n\n  //~~editor \n    //view items \n    //add items\n    //update items \n    //remove items\n    //start shopping  - end shopping \n    //check items off \n\n  //~~requests\n    //view items \n    //request items \n\n    const useStyles = makeStyles((theme) => ({\n      root: {\n        width: '100%',\n        marginTop: theme.spacing(4),\n      },\n      paper: {\n        width: '90%',\n        marginLeft: theme.spacing(4),\n        marginBottom: theme.spacing(2),\n      },\n      toolbar: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        alignSelf: 'start',\n        padding: '2%'\n      },\n      table: {\n        minWidth: 750,\n      },\n      visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n      },\n      highlight:\n      theme.palette.type === 'light'\n        ? {\n            color: theme.palette.secondary.main,\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n          }\n        : {\n            color: theme.palette.text.primary,\n            backgroundColor: theme.palette.secondary.dark,\n          },\n    }));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst ShoppingList = (props) =>  {\n\n  const {shopListId} = props.userDetails\n  const {call} = props.userShopList\n  const {token} = props.user.pass\n  const {userShopList} = props\n\n  const classes = useStyles();\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('item');\n  const [selected, setSelected] = useState([]);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const {shopping, setShopping} = useState(false)\n\n  useEffect( () => {\n    if (call===false) {\n      return props.findShopList(shopListId, token, props.user.username)\n    }\n  })\n\n  //click handlers \n  const handleClick = (e, name) => {\n    e.preventDefault();\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n      console.log('click', item)\n    }\n\n    setSelected(newSelected);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  //page handlers\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n    console.log('new page', newPage)\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n    console.log('set pages?', setPage(0))\n  };\n\n  const getComparator =(order, orderBy) => {\n    return order === 'desc'\n      ? (a, b) => descendingComparator(a, b, orderBy)\n      : (a, b) => -descendingComparator(a, b, orderBy);\n  }\n  \n  \n  const stableSort = (array, comparator) =>{\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n      const order = comparator(a[0], b[0]);\n      if (order !== 0) return order;\n      return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n  }\n\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, userShopList.list.length - page * rowsPerPage);\n\n  //header sorting \n  const headCells = [\n    { id: 'quantity', numeric: true, disablePadding: false, label: 'Quantity' },\n    { id: 'items', numeric: false, disablePadding: false, label: 'Items' },\n    { id: 'unit', numeric: true, disablePadding: false, label: 'Unit' },\n    { id: 'actions', numeric: false, disablePadding: false, label: 'Actions' },\n  ]\n\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  //tool bar\n  const openSearch = (e) => {\n    e.preventDefault();\n    console.log('you want to search for food')\n    props.openFoodSearch = true \n  }\n\n  const startShopping = (e) => {\n    e.preventDefault();\n    console.log('so you want to start shopping')\n    setShopping=true\n  }\n\n  const doneShopping = (e) => {\n    e.preventDefault();\n    console.log('your done shopping, should get added to pantry now')\n    setShopping=false\n  }\n\n  //food search page\n  const Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\n  \n\n  if(call) {\n    return (\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n\n          <Toolbar\n            className={clsx(classes.toolbar, {\n            [classes.highlight]: selected.length > 0,\n          })}\n            > \n            {selected.length > 0 ? (\n              <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\"     component=\"div\">\n                {selected.length} selected\n              </Typography>\n            ) : (\n              <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n                Your Shopping List \n              </Typography>\n            )}\n               <OpenFoodSearch/>\n               {props.openFoodSearch===true ? <SearchPage/> : <div/>}\n               {setShopping ? (\n              <Tooltip title=\"Finished Shopping\">\n                <IconButton aria-label=\"finish shopping\"\n                onClick={doneShopping}>\n                <svg className=\"fas fa-cart-arrow-down\"/> \n                </IconButton>\n              </Tooltip>\n            ) : (\n              <Tooltip title=\"Start Shopping\">\n                <IconButton aria-label=\"start shopping\"\n                onClick={startShopping}>\n                <svg className=\"fas fa-shopping-basket\"/>\n                </IconButton>\n              </Tooltip>\n              )}\n           </Toolbar>\n          \n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"your shopping list\"\n              aria-label=\"shopping list\"\n              >\n\n                <TableHead>\n                  <TableRow>\n\n                    {headCells.map((headCell) => (\n                      <TableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? 'center' : 'left'}\n                        padding={headCell.disablePadding ? 'none' : 'default'}\n                        /* We don't really need sorting on update and delete, we should change that  */\n                        sortDirection={orderBy === headCell.id ? order : false}\n                      >\n                        <TableSortLabel\n                          active={orderBy === headCell.id}\n                          direction={orderBy === headCell.id ? order : 'asc'}\n                          onClick={createSortHandler(headCell.id)}\n                        >\n                          {headCell.label}\n                          {orderBy === headCell.id ? (\n                            <span className={classes.visuallyHidden}>\n                              {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                            </span>\n                          ) : null}\n\n                        </TableSortLabel>\n                      </TableCell>\n                    ))}\n                 </TableRow>\n              </TableHead>\n\n              <TableBody>\n                {/* {stableSort(rows, getComparator(order, orderBy))\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                   */}\n                  {userShopList.list.map((row, index) => {\n                    const isItemSelected = isSelected(row.entryId);\n                    const labelId = `check box${index}`;\n                      console.log('is item selected? ', isItemSelected)\n                    return (\n                      <TableRow\n                        hover\n                        onClick={(e) => handleClick(e, userShopList.list.entryId)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row.entryId}\n                        selected={isItemSelected}\n                      >\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox\n                            padding=\"10\"\n                            checked={isItemSelected}\n                            // inputProps={{ 'list item number ': labelId }}\n                          />\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\" align=\"center\">\n                          {null ? 1 : row.quantity}\n                        </TableCell>\n                        <TableCell align=\"left\">{row.item}</TableCell>\n                        <TableCell align=\"right\">{row.measId}</TableCell>\n                        <TableCell align=\"left\">{row.actions}\n                        <Actions action={userShopList.list.entryId}/>\n                          </TableCell>\n                      </TableRow>\n                    )\n                  })\n                  }\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[10, 25, 50]}\n            component=\"div\"\n            count={userShopList.list.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n      </div>\n    );\n  } else {\n    return (\n      <Paper>\n      <Toolbar/>\n        <TableContainer>\n        <Table\n              className={classes.table}\n              aria-labelledby=\"your shopping list\"\n              aria-label=\"shopping list\"\n            >\n            <TableHead>\n            \n            </TableHead>\n            <TableBody>\n              <TableRow></TableRow>\n            </TableBody>\n            </Table>\n        </TableContainer>\n    </Paper>\n    )\n  }\n}\n\n// export default withStyles(useStyles)(ShoppingList)\nexport default ShoppingList"]},"metadata":{},"sourceType":"module"}