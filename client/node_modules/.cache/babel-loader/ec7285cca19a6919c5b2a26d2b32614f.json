{"ast":null,"code":"// defaults, types, and shorthands.\nvar path = require('path');\n\nvar url = require('url');\n\nvar Stream = require('stream').Stream;\n\nvar semver = require('semver');\n\nvar stableFamily = semver.parse(process.version);\n\nvar nopt = require('nopt');\n\nvar os = require('os');\n\nvar osenv = require('osenv');\n\nvar umask = require('../utils/umask');\n\nvar hasUnicode = require('has-unicode');\n\nvar log;\n\ntry {\n  log = require('npmlog');\n} catch (er) {\n  var util = require('util');\n\n  log = {\n    warn: function (m) {\n      console.warn(m + ' ' + util.format.apply(util, [].slice.call(arguments, 1)));\n    }\n  };\n}\n\nexports.Umask = Umask;\n\nfunction Umask() {}\n\nfunction validateUmask(data, k, val) {\n  return umask.validate(data, k, val);\n}\n\nfunction validateSemver(data, k, val) {\n  if (!semver.valid(val)) return false;\n  data[k] = semver.valid(val);\n}\n\nfunction validateStream(data, k, val) {\n  if (!(val instanceof Stream)) return false;\n  data[k] = val;\n}\n\nnopt.typeDefs.semver = {\n  type: semver,\n  validate: validateSemver\n};\nnopt.typeDefs.Stream = {\n  type: Stream,\n  validate: validateStream\n};\nnopt.typeDefs.Umask = {\n  type: Umask,\n  validate: validateUmask\n};\n\nnopt.invalidHandler = function (k, val, type) {\n  log.warn('invalid config', k + '=' + JSON.stringify(val));\n\n  if (Array.isArray(type)) {\n    if (type.indexOf(url) !== -1) type = url;else if (type.indexOf(path) !== -1) type = path;\n  }\n\n  switch (type) {\n    case Umask:\n      log.warn('invalid config', 'Must be umask, octal number in range 0000..0777');\n      break;\n\n    case url:\n      log.warn('invalid config', \"Must be a full url with 'http://'\");\n      break;\n\n    case path:\n      log.warn('invalid config', 'Must be a valid filesystem path');\n      break;\n\n    case Number:\n      log.warn('invalid config', 'Must be a numeric value');\n      break;\n\n    case Stream:\n      log.warn('invalid config', 'Must be an instance of the Stream class');\n      break;\n  }\n};\n\nif (!stableFamily || +stableFamily.minor % 2) stableFamily = null;else stableFamily = stableFamily.major + '.' + stableFamily.minor;\nvar defaults;\nvar temp = osenv.tmpdir();\nvar home = osenv.home();\nvar uidOrPid = process.getuid ? process.getuid() : process.pid;\nif (home) process.env.HOME = home;else home = path.resolve(temp, 'npm-' + uidOrPid);\nvar cacheExtra = process.platform === 'win32' ? 'npm-cache' : '.npm';\nvar cacheRoot = process.platform === 'win32' && process.env.APPDATA || home;\nvar cache = path.resolve(cacheRoot, cacheExtra);\nvar globalPrefix;\nObject.defineProperty(exports, 'defaults', {\n  get: function () {\n    if (defaults) return defaults;\n\n    if (process.env.PREFIX) {\n      globalPrefix = process.env.PREFIX;\n    } else if (process.platform === 'win32') {\n      // c:\\node\\node.exe --> prefix=c:\\node\\\n      globalPrefix = path.dirname(process.execPath);\n    } else {\n      // /usr/local/bin/node --> prefix=/usr/local\n      globalPrefix = path.dirname(path.dirname(process.execPath)); // destdir only is respected on Unix\n\n      if (process.env.DESTDIR) {\n        globalPrefix = path.join(process.env.DESTDIR, globalPrefix);\n      }\n    }\n\n    defaults = {\n      access: null,\n      'allow-same-version': false,\n      'always-auth': false,\n      also: null,\n      audit: true,\n      'audit-level': 'low',\n      'auth-type': 'legacy',\n      'before': null,\n      'bin-links': true,\n      browser: null,\n      ca: null,\n      cafile: null,\n      cache: cache,\n      'cache-lock-stale': 60000,\n      'cache-lock-retries': 10,\n      'cache-lock-wait': 10000,\n      'cache-max': Infinity,\n      'cache-min': 10,\n      cert: null,\n      cidr: null,\n      color: process.env.NO_COLOR == null,\n      depth: Infinity,\n      description: true,\n      dev: false,\n      'dry-run': false,\n      editor: osenv.editor(),\n      'engine-strict': false,\n      force: false,\n      'format-package-lock': true,\n      fund: true,\n      'fetch-retries': 2,\n      'fetch-retry-factor': 10,\n      'fetch-retry-mintimeout': 10000,\n      'fetch-retry-maxtimeout': 60000,\n      git: 'git',\n      'git-tag-version': true,\n      'commit-hooks': true,\n      global: false,\n      globalconfig: path.resolve(globalPrefix, 'etc', 'npmrc'),\n      'global-style': false,\n      group: process.platform === 'win32' ? 0 : process.env.SUDO_GID || process.getgid && process.getgid(),\n      'ham-it-up': false,\n      heading: 'npm',\n      'if-present': false,\n      'ignore-prepublish': false,\n      'ignore-scripts': false,\n      'init-module': path.resolve(home, '.npm-init.js'),\n      'init-author-name': '',\n      'init-author-email': '',\n      'init-author-url': '',\n      'init-version': '1.0.0',\n      'init-license': 'ISC',\n      json: false,\n      key: null,\n      'legacy-bundling': false,\n      link: false,\n      'local-address': undefined,\n      loglevel: 'notice',\n      logstream: process.stderr,\n      'logs-max': 10,\n      long: false,\n      maxsockets: 50,\n      message: '%s',\n      'metrics-registry': null,\n      'node-options': null,\n      'node-version': process.version,\n      'offline': false,\n      'onload-script': false,\n      only: null,\n      optional: true,\n      otp: null,\n      'package-lock': true,\n      'package-lock-only': false,\n      parseable: false,\n      'prefer-offline': false,\n      'prefer-online': false,\n      prefix: globalPrefix,\n      preid: '',\n      production: process.env.NODE_ENV === 'production',\n      'progress': !process.env.TRAVIS && !process.env.CI,\n      proxy: null,\n      'https-proxy': null,\n      'noproxy': null,\n      'user-agent': 'npm/{npm-version} ' + 'node/{node-version} ' + '{platform} ' + '{arch} ' + '{ci}',\n      'read-only': false,\n      'rebuild-bundle': true,\n      registry: 'https://registry.npmjs.org/',\n      rollback: true,\n      save: true,\n      'save-bundle': false,\n      'save-dev': false,\n      'save-exact': false,\n      'save-optional': false,\n      'save-prefix': '^',\n      'save-prod': false,\n      scope: '',\n      'script-shell': null,\n      'scripts-prepend-node-path': 'warn-only',\n      searchopts: '',\n      searchexclude: null,\n      searchlimit: 20,\n      searchstaleness: 15 * 60,\n      'send-metrics': false,\n      shell: osenv.shell(),\n      shrinkwrap: true,\n      'sign-git-commit': false,\n      'sign-git-tag': false,\n      'sso-poll-frequency': 500,\n      'sso-type': 'oauth',\n      'strict-ssl': true,\n      tag: 'latest',\n      'tag-version-prefix': 'v',\n      timing: false,\n      tmp: temp,\n      unicode: hasUnicode(),\n      'unsafe-perm': process.platform === 'win32' || process.platform === 'cygwin' || !(process.getuid && process.setuid && process.getgid && process.setgid) || process.getuid() !== 0,\n      'update-notifier': true,\n      usage: false,\n      user: process.platform === 'win32' || os.type() === 'OS400' ? 0 : 'nobody',\n      userconfig: path.resolve(home, '.npmrc'),\n      umask: process.umask ? process.umask() : umask.fromString('022'),\n      version: false,\n      versions: false,\n      viewer: process.platform === 'win32' ? 'browser' : 'man',\n      _exit: true\n    };\n    return defaults;\n  }\n});\nexports.types = {\n  access: [null, 'restricted', 'public'],\n  'allow-same-version': Boolean,\n  'always-auth': Boolean,\n  also: [null, 'dev', 'development'],\n  audit: Boolean,\n  'audit-level': ['low', 'moderate', 'high', 'critical'],\n  'auth-type': ['legacy', 'sso', 'saml', 'oauth'],\n  'before': [null, Date],\n  'bin-links': Boolean,\n  browser: [null, String],\n  ca: [null, String, Array],\n  cafile: path,\n  cache: path,\n  'cache-lock-stale': Number,\n  'cache-lock-retries': Number,\n  'cache-lock-wait': Number,\n  'cache-max': Number,\n  'cache-min': Number,\n  cert: [null, String],\n  cidr: [null, String, Array],\n  color: ['always', Boolean],\n  depth: Number,\n  description: Boolean,\n  dev: Boolean,\n  'dry-run': Boolean,\n  editor: String,\n  'engine-strict': Boolean,\n  force: Boolean,\n  fund: Boolean,\n  'format-package-lock': Boolean,\n  'fetch-retries': Number,\n  'fetch-retry-factor': Number,\n  'fetch-retry-mintimeout': Number,\n  'fetch-retry-maxtimeout': Number,\n  git: String,\n  'git-tag-version': Boolean,\n  'commit-hooks': Boolean,\n  global: Boolean,\n  globalconfig: path,\n  'global-style': Boolean,\n  group: [Number, String],\n  'https-proxy': [null, url],\n  'user-agent': String,\n  'ham-it-up': Boolean,\n  'heading': String,\n  'if-present': Boolean,\n  'ignore-prepublish': Boolean,\n  'ignore-scripts': Boolean,\n  'init-module': path,\n  'init-author-name': String,\n  'init-author-email': String,\n  'init-author-url': ['', url],\n  'init-license': String,\n  'init-version': semver,\n  json: Boolean,\n  key: [null, String],\n  'legacy-bundling': Boolean,\n  link: Boolean,\n  'local-address': getLocalAddresses(),\n  loglevel: ['silent', 'error', 'warn', 'notice', 'http', 'timing', 'info', 'verbose', 'silly'],\n  logstream: Stream,\n  'logs-max': Number,\n  long: Boolean,\n  maxsockets: Number,\n  message: String,\n  'metrics-registry': [null, String],\n  'node-options': [null, String],\n  'node-version': [null, semver],\n  'noproxy': [null, String, Array],\n  offline: Boolean,\n  'onload-script': [null, String],\n  only: [null, 'dev', 'development', 'prod', 'production'],\n  optional: Boolean,\n  'package-lock': Boolean,\n  otp: [null, String],\n  'package-lock-only': Boolean,\n  parseable: Boolean,\n  'prefer-offline': Boolean,\n  'prefer-online': Boolean,\n  prefix: path,\n  preid: String,\n  production: Boolean,\n  progress: Boolean,\n  proxy: [null, false, url],\n  // allow proxy to be disabled explicitly\n  'read-only': Boolean,\n  'rebuild-bundle': Boolean,\n  registry: [null, url],\n  rollback: Boolean,\n  save: Boolean,\n  'save-bundle': Boolean,\n  'save-dev': Boolean,\n  'save-exact': Boolean,\n  'save-optional': Boolean,\n  'save-prefix': String,\n  'save-prod': Boolean,\n  scope: String,\n  'script-shell': [null, String],\n  'scripts-prepend-node-path': [false, true, 'auto', 'warn-only'],\n  searchopts: String,\n  searchexclude: [null, String],\n  searchlimit: Number,\n  searchstaleness: Number,\n  'send-metrics': Boolean,\n  shell: String,\n  shrinkwrap: Boolean,\n  'sign-git-commit': Boolean,\n  'sign-git-tag': Boolean,\n  'sso-poll-frequency': Number,\n  'sso-type': [null, 'oauth', 'saml'],\n  'strict-ssl': Boolean,\n  tag: String,\n  timing: Boolean,\n  tmp: path,\n  unicode: Boolean,\n  'unsafe-perm': Boolean,\n  'update-notifier': Boolean,\n  usage: Boolean,\n  user: [Number, String],\n  userconfig: path,\n  umask: Umask,\n  version: Boolean,\n  'tag-version-prefix': String,\n  versions: Boolean,\n  viewer: String,\n  _exit: Boolean\n};\n\nfunction getLocalAddresses() {\n  var interfaces; // #8094: some environments require elevated permissions to enumerate\n  // interfaces, and synchronously throw EPERM when run without\n  // elevated privileges\n\n  try {\n    interfaces = os.networkInterfaces();\n  } catch (e) {\n    interfaces = {};\n  }\n\n  return Object.keys(interfaces).map(nic => interfaces[nic].map(({\n    address\n  }) => address)).reduce((curr, next) => curr.concat(next), []).concat(undefined);\n}\n\nexports.shorthands = {\n  before: ['--enjoy-by'],\n  s: ['--loglevel', 'silent'],\n  d: ['--loglevel', 'info'],\n  dd: ['--loglevel', 'verbose'],\n  ddd: ['--loglevel', 'silly'],\n  noreg: ['--no-registry'],\n  N: ['--no-registry'],\n  reg: ['--registry'],\n  'no-reg': ['--no-registry'],\n  silent: ['--loglevel', 'silent'],\n  verbose: ['--loglevel', 'verbose'],\n  quiet: ['--loglevel', 'warn'],\n  q: ['--loglevel', 'warn'],\n  h: ['--usage'],\n  H: ['--usage'],\n  '?': ['--usage'],\n  help: ['--usage'],\n  v: ['--version'],\n  f: ['--force'],\n  desc: ['--description'],\n  'no-desc': ['--no-description'],\n  'local': ['--no-global'],\n  l: ['--long'],\n  m: ['--message'],\n  p: ['--parseable'],\n  porcelain: ['--parseable'],\n  readonly: ['--read-only'],\n  g: ['--global'],\n  S: ['--save'],\n  D: ['--save-dev'],\n  E: ['--save-exact'],\n  O: ['--save-optional'],\n  P: ['--save-prod'],\n  y: ['--yes'],\n  n: ['--no-yes'],\n  B: ['--save-bundle'],\n  C: ['--prefix']\n};","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/node_modules/npm/lib/config/defaults.js"],"names":["path","require","url","Stream","semver","stableFamily","parse","process","version","nopt","os","osenv","umask","hasUnicode","log","er","util","warn","m","console","format","apply","slice","call","arguments","exports","Umask","validateUmask","data","k","val","validate","validateSemver","valid","validateStream","typeDefs","type","invalidHandler","JSON","stringify","Array","isArray","indexOf","Number","minor","major","defaults","temp","tmpdir","home","uidOrPid","getuid","pid","env","HOME","resolve","cacheExtra","platform","cacheRoot","APPDATA","cache","globalPrefix","Object","defineProperty","get","PREFIX","dirname","execPath","DESTDIR","join","access","also","audit","browser","ca","cafile","Infinity","cert","cidr","color","NO_COLOR","depth","description","dev","editor","force","fund","git","global","globalconfig","group","SUDO_GID","getgid","heading","json","key","link","undefined","loglevel","logstream","stderr","long","maxsockets","message","only","optional","otp","parseable","prefix","preid","production","NODE_ENV","TRAVIS","CI","proxy","registry","rollback","save","scope","searchopts","searchexclude","searchlimit","searchstaleness","shell","shrinkwrap","tag","timing","tmp","unicode","setuid","setgid","usage","user","userconfig","fromString","versions","viewer","_exit","types","Boolean","Date","String","getLocalAddresses","offline","progress","interfaces","networkInterfaces","e","keys","map","nic","address","reduce","curr","next","concat","shorthands","before","s","d","dd","ddd","noreg","N","reg","silent","verbose","quiet","q","h","H","help","v","f","desc","l","p","porcelain","readonly","g","S","D","E","O","P","y","n","B","C"],"mappings":"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","sourcesContent":["// defaults, types, and shorthands.\n\nvar path = require('path')\nvar url = require('url')\nvar Stream = require('stream').Stream\nvar semver = require('semver')\nvar stableFamily = semver.parse(process.version)\nvar nopt = require('nopt')\nvar os = require('os')\nvar osenv = require('osenv')\nvar umask = require('../utils/umask')\nvar hasUnicode = require('has-unicode')\n\nvar log\ntry {\n  log = require('npmlog')\n} catch (er) {\n  var util = require('util')\n  log = { warn: function (m) {\n    console.warn(m + ' ' + util.format.apply(util, [].slice.call(arguments, 1)))\n  } }\n}\n\nexports.Umask = Umask\nfunction Umask () {}\nfunction validateUmask (data, k, val) {\n  return umask.validate(data, k, val)\n}\n\nfunction validateSemver (data, k, val) {\n  if (!semver.valid(val)) return false\n  data[k] = semver.valid(val)\n}\n\nfunction validateStream (data, k, val) {\n  if (!(val instanceof Stream)) return false\n  data[k] = val\n}\n\nnopt.typeDefs.semver = { type: semver, validate: validateSemver }\nnopt.typeDefs.Stream = { type: Stream, validate: validateStream }\nnopt.typeDefs.Umask = { type: Umask, validate: validateUmask }\n\nnopt.invalidHandler = function (k, val, type) {\n  log.warn('invalid config', k + '=' + JSON.stringify(val))\n\n  if (Array.isArray(type)) {\n    if (type.indexOf(url) !== -1) type = url\n    else if (type.indexOf(path) !== -1) type = path\n  }\n\n  switch (type) {\n    case Umask:\n      log.warn('invalid config', 'Must be umask, octal number in range 0000..0777')\n      break\n    case url:\n      log.warn('invalid config', \"Must be a full url with 'http://'\")\n      break\n    case path:\n      log.warn('invalid config', 'Must be a valid filesystem path')\n      break\n    case Number:\n      log.warn('invalid config', 'Must be a numeric value')\n      break\n    case Stream:\n      log.warn('invalid config', 'Must be an instance of the Stream class')\n      break\n  }\n}\n\nif (!stableFamily || (+stableFamily.minor % 2)) stableFamily = null\nelse stableFamily = stableFamily.major + '.' + stableFamily.minor\n\nvar defaults\n\nvar temp = osenv.tmpdir()\nvar home = osenv.home()\n\nvar uidOrPid = process.getuid ? process.getuid() : process.pid\n\nif (home) process.env.HOME = home\nelse home = path.resolve(temp, 'npm-' + uidOrPid)\n\nvar cacheExtra = process.platform === 'win32' ? 'npm-cache' : '.npm'\nvar cacheRoot = (process.platform === 'win32' && process.env.APPDATA) || home\nvar cache = path.resolve(cacheRoot, cacheExtra)\n\nvar globalPrefix\nObject.defineProperty(exports, 'defaults', {get: function () {\n  if (defaults) return defaults\n\n  if (process.env.PREFIX) {\n    globalPrefix = process.env.PREFIX\n  } else if (process.platform === 'win32') {\n    // c:\\node\\node.exe --> prefix=c:\\node\\\n    globalPrefix = path.dirname(process.execPath)\n  } else {\n    // /usr/local/bin/node --> prefix=/usr/local\n    globalPrefix = path.dirname(path.dirname(process.execPath))\n\n    // destdir only is respected on Unix\n    if (process.env.DESTDIR) {\n      globalPrefix = path.join(process.env.DESTDIR, globalPrefix)\n    }\n  }\n\n  defaults = {\n    access: null,\n    'allow-same-version': false,\n    'always-auth': false,\n    also: null,\n    audit: true,\n    'audit-level': 'low',\n    'auth-type': 'legacy',\n\n    'before': null,\n    'bin-links': true,\n    browser: null,\n\n    ca: null,\n    cafile: null,\n\n    cache: cache,\n\n    'cache-lock-stale': 60000,\n    'cache-lock-retries': 10,\n    'cache-lock-wait': 10000,\n\n    'cache-max': Infinity,\n    'cache-min': 10,\n\n    cert: null,\n\n    cidr: null,\n\n    color: process.env.NO_COLOR == null,\n    depth: Infinity,\n    description: true,\n    dev: false,\n    'dry-run': false,\n    editor: osenv.editor(),\n    'engine-strict': false,\n    force: false,\n    'format-package-lock': true,\n\n    fund: true,\n\n    'fetch-retries': 2,\n    'fetch-retry-factor': 10,\n    'fetch-retry-mintimeout': 10000,\n    'fetch-retry-maxtimeout': 60000,\n\n    git: 'git',\n    'git-tag-version': true,\n    'commit-hooks': true,\n\n    global: false,\n    globalconfig: path.resolve(globalPrefix, 'etc', 'npmrc'),\n    'global-style': false,\n    group: process.platform === 'win32' ? 0\n      : process.env.SUDO_GID || (process.getgid && process.getgid()),\n    'ham-it-up': false,\n    heading: 'npm',\n    'if-present': false,\n    'ignore-prepublish': false,\n    'ignore-scripts': false,\n    'init-module': path.resolve(home, '.npm-init.js'),\n    'init-author-name': '',\n    'init-author-email': '',\n    'init-author-url': '',\n    'init-version': '1.0.0',\n    'init-license': 'ISC',\n    json: false,\n    key: null,\n    'legacy-bundling': false,\n    link: false,\n    'local-address': undefined,\n    loglevel: 'notice',\n    logstream: process.stderr,\n    'logs-max': 10,\n    long: false,\n    maxsockets: 50,\n    message: '%s',\n    'metrics-registry': null,\n    'node-options': null,\n    'node-version': process.version,\n    'offline': false,\n    'onload-script': false,\n    only: null,\n    optional: true,\n    otp: null,\n    'package-lock': true,\n    'package-lock-only': false,\n    parseable: false,\n    'prefer-offline': false,\n    'prefer-online': false,\n    prefix: globalPrefix,\n    preid: '',\n    production: process.env.NODE_ENV === 'production',\n    'progress': !process.env.TRAVIS && !process.env.CI,\n    proxy: null,\n    'https-proxy': null,\n    'noproxy': null,\n    'user-agent': 'npm/{npm-version} ' +\n                    'node/{node-version} ' +\n                    '{platform} ' +\n                    '{arch} ' +\n                    '{ci}',\n    'read-only': false,\n    'rebuild-bundle': true,\n    registry: 'https://registry.npmjs.org/',\n    rollback: true,\n    save: true,\n    'save-bundle': false,\n    'save-dev': false,\n    'save-exact': false,\n    'save-optional': false,\n    'save-prefix': '^',\n    'save-prod': false,\n    scope: '',\n    'script-shell': null,\n    'scripts-prepend-node-path': 'warn-only',\n    searchopts: '',\n    searchexclude: null,\n    searchlimit: 20,\n    searchstaleness: 15 * 60,\n    'send-metrics': false,\n    shell: osenv.shell(),\n    shrinkwrap: true,\n    'sign-git-commit': false,\n    'sign-git-tag': false,\n    'sso-poll-frequency': 500,\n    'sso-type': 'oauth',\n    'strict-ssl': true,\n    tag: 'latest',\n    'tag-version-prefix': 'v',\n    timing: false,\n    tmp: temp,\n    unicode: hasUnicode(),\n    'unsafe-perm': process.platform === 'win32' ||\n                     process.platform === 'cygwin' ||\n                     !(process.getuid && process.setuid &&\n                       process.getgid && process.setgid) ||\n                     process.getuid() !== 0,\n    'update-notifier': true,\n    usage: false,\n    user: (process.platform === 'win32' || os.type() === 'OS400') ? 0 : 'nobody',\n    userconfig: path.resolve(home, '.npmrc'),\n    umask: process.umask ? process.umask() : umask.fromString('022'),\n    version: false,\n    versions: false,\n    viewer: process.platform === 'win32' ? 'browser' : 'man',\n\n    _exit: true\n  }\n\n  return defaults\n}})\n\nexports.types = {\n  access: [null, 'restricted', 'public'],\n  'allow-same-version': Boolean,\n  'always-auth': Boolean,\n  also: [null, 'dev', 'development'],\n  audit: Boolean,\n  'audit-level': ['low', 'moderate', 'high', 'critical'],\n  'auth-type': ['legacy', 'sso', 'saml', 'oauth'],\n  'before': [null, Date],\n  'bin-links': Boolean,\n  browser: [null, String],\n  ca: [null, String, Array],\n  cafile: path,\n  cache: path,\n  'cache-lock-stale': Number,\n  'cache-lock-retries': Number,\n  'cache-lock-wait': Number,\n  'cache-max': Number,\n  'cache-min': Number,\n  cert: [null, String],\n  cidr: [null, String, Array],\n  color: ['always', Boolean],\n  depth: Number,\n  description: Boolean,\n  dev: Boolean,\n  'dry-run': Boolean,\n  editor: String,\n  'engine-strict': Boolean,\n  force: Boolean,\n  fund: Boolean,\n  'format-package-lock': Boolean,\n  'fetch-retries': Number,\n  'fetch-retry-factor': Number,\n  'fetch-retry-mintimeout': Number,\n  'fetch-retry-maxtimeout': Number,\n  git: String,\n  'git-tag-version': Boolean,\n  'commit-hooks': Boolean,\n  global: Boolean,\n  globalconfig: path,\n  'global-style': Boolean,\n  group: [Number, String],\n  'https-proxy': [null, url],\n  'user-agent': String,\n  'ham-it-up': Boolean,\n  'heading': String,\n  'if-present': Boolean,\n  'ignore-prepublish': Boolean,\n  'ignore-scripts': Boolean,\n  'init-module': path,\n  'init-author-name': String,\n  'init-author-email': String,\n  'init-author-url': ['', url],\n  'init-license': String,\n  'init-version': semver,\n  json: Boolean,\n  key: [null, String],\n  'legacy-bundling': Boolean,\n  link: Boolean,\n  'local-address': getLocalAddresses(),\n  loglevel: ['silent', 'error', 'warn', 'notice', 'http', 'timing', 'info', 'verbose', 'silly'],\n  logstream: Stream,\n  'logs-max': Number,\n  long: Boolean,\n  maxsockets: Number,\n  message: String,\n  'metrics-registry': [null, String],\n  'node-options': [null, String],\n  'node-version': [null, semver],\n  'noproxy': [null, String, Array],\n  offline: Boolean,\n  'onload-script': [null, String],\n  only: [null, 'dev', 'development', 'prod', 'production'],\n  optional: Boolean,\n  'package-lock': Boolean,\n  otp: [null, String],\n  'package-lock-only': Boolean,\n  parseable: Boolean,\n  'prefer-offline': Boolean,\n  'prefer-online': Boolean,\n  prefix: path,\n  preid: String,\n  production: Boolean,\n  progress: Boolean,\n  proxy: [null, false, url], // allow proxy to be disabled explicitly\n  'read-only': Boolean,\n  'rebuild-bundle': Boolean,\n  registry: [null, url],\n  rollback: Boolean,\n  save: Boolean,\n  'save-bundle': Boolean,\n  'save-dev': Boolean,\n  'save-exact': Boolean,\n  'save-optional': Boolean,\n  'save-prefix': String,\n  'save-prod': Boolean,\n  scope: String,\n  'script-shell': [null, String],\n  'scripts-prepend-node-path': [false, true, 'auto', 'warn-only'],\n  searchopts: String,\n  searchexclude: [null, String],\n  searchlimit: Number,\n  searchstaleness: Number,\n  'send-metrics': Boolean,\n  shell: String,\n  shrinkwrap: Boolean,\n  'sign-git-commit': Boolean,\n  'sign-git-tag': Boolean,\n  'sso-poll-frequency': Number,\n  'sso-type': [null, 'oauth', 'saml'],\n  'strict-ssl': Boolean,\n  tag: String,\n  timing: Boolean,\n  tmp: path,\n  unicode: Boolean,\n  'unsafe-perm': Boolean,\n  'update-notifier': Boolean,\n  usage: Boolean,\n  user: [Number, String],\n  userconfig: path,\n  umask: Umask,\n  version: Boolean,\n  'tag-version-prefix': String,\n  versions: Boolean,\n  viewer: String,\n  _exit: Boolean\n}\n\nfunction getLocalAddresses () {\n  var interfaces\n  // #8094: some environments require elevated permissions to enumerate\n  // interfaces, and synchronously throw EPERM when run without\n  // elevated privileges\n  try {\n    interfaces = os.networkInterfaces()\n  } catch (e) {\n    interfaces = {}\n  }\n\n  return Object.keys(interfaces).map(\n    nic => interfaces[nic].map(({address}) => address)\n  ).reduce((curr, next) => curr.concat(next), []).concat(undefined)\n}\n\nexports.shorthands = {\n  before: ['--enjoy-by'],\n  s: ['--loglevel', 'silent'],\n  d: ['--loglevel', 'info'],\n  dd: ['--loglevel', 'verbose'],\n  ddd: ['--loglevel', 'silly'],\n  noreg: ['--no-registry'],\n  N: ['--no-registry'],\n  reg: ['--registry'],\n  'no-reg': ['--no-registry'],\n  silent: ['--loglevel', 'silent'],\n  verbose: ['--loglevel', 'verbose'],\n  quiet: ['--loglevel', 'warn'],\n  q: ['--loglevel', 'warn'],\n  h: ['--usage'],\n  H: ['--usage'],\n  '?': ['--usage'],\n  help: ['--usage'],\n  v: ['--version'],\n  f: ['--force'],\n  desc: ['--description'],\n  'no-desc': ['--no-description'],\n  'local': ['--no-global'],\n  l: ['--long'],\n  m: ['--message'],\n  p: ['--parseable'],\n  porcelain: ['--parseable'],\n  readonly: ['--read-only'],\n  g: ['--global'],\n  S: ['--save'],\n  D: ['--save-dev'],\n  E: ['--save-exact'],\n  O: ['--save-optional'],\n  P: ['--save-prod'],\n  y: ['--yes'],\n  n: ['--no-yes'],\n  B: ['--save-bundle'],\n  C: ['--prefix']\n}\n"]},"metadata":{},"sourceType":"script"}