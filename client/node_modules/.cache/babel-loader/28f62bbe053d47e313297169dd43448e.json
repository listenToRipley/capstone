{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/moonbox/Documents/capstone/pantrypal/client/src/Components/ShoppingList.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Actions from './ShopActions';\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { faShoppingBasket, faCartArrowDown } from '@fortawesome/free-solid-svg-icons';\nimport { withStyles } from '@material-ui/styles';\nimport { getShopList } from '../redux/actions/userShopList';\nlibrary.add(faShoppingBasket, faCartArrowDown);\ndom.watch(); //IMPORTANT NOTE!!!\n//there should be three version of this \n//primary list \n//rename shop list \n//view items \n//start shopping  - end shopping \n//check items off \n//add items to pantry \n//add items \n//remove items\n//update items  \n//~~editor \n//view items \n//add items\n//update items \n//remove items\n//start shopping  - end shopping \n//check items off \n//~~requests\n//view items \n//request items \n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(4)\n  },\n  paper: {\n    width: '90%',\n    marginLeft: theme.spacing(4),\n    marginBottom: theme.spacing(2)\n  },\n  table: {\n    minWidth: 750\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  }\n})); //quantity, measurement, item, spoonId\n\nconst createData = (quantity, items, unit, actions) => {\n  return {\n    quantity,\n    items,\n    unit,\n    actions\n  };\n}; //there is an issue with the drawer and page content. \n//need to add something to show role on table, are we going to need to write a query for that? \n//this will need to be replaced by content from the server \n\n\nconst rows = [// createData( 305, 'Cupcake', 3.7),\n  // createData( 452, 'Donut', 3.7),\n  // createData( 305, 'Eclair', 3.7), \n  // createData( 5221, 'Frozen yoghurt', 159),  \n  // createData( 5, 'Gingerbread', 356),  \n  // createData( 1, 'Honeycomb', 408), \n  // createData( 32, 'Ice cream sandwich', 237), \n  // createData( 66, 'Jelly Bean', 375), \n  // createData( 23, 'KitKat', 518),  \n  // createData( 6565, 'Lollipop', 392),\n  // createData( 13.2, 'Marshmallow', 318),\n  // createData( 33, 'Nougat', 360),\n  // createData( 6666, 'Oreo', 437)\n]; //sorting functions  DON'T TOUCH \n\nconst getComparator = (order, orderBy) => {\n  return order === 'desc' ? (a, b) => descendingComparator(a, b, orderBy) : (a, b) => -descendingComparator(a, b, orderBy);\n}; //sorting functions  DON'T TOUCH \n\n\nconst stableSort = (array, comparator) => {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}; //sorting functions  DON'T TOUCH \n\n\nconst descendingComparator = (a, b, orderBy) => {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nconst headCells = [{\n  id: 'quantity',\n  numeric: true,\n  disablePadding: false,\n  label: 'Quantity'\n}, {\n  id: 'items',\n  numeric: false,\n  disablePadding: false,\n  label: 'Items'\n}, {\n  id: 'unit',\n  numeric: true,\n  disablePadding: false,\n  label: 'Unit'\n}, {\n  id: 'actions',\n  numeric: false,\n  disablePadding: false,\n  label: 'Actions'\n}];\n\nconst ShoppingListHead = props => {\n  const {\n    classes,\n    onSelectAllClick,\n    order,\n    orderBy,\n    numSelected,\n    rowCount,\n    onRequestSort\n  } = props;\n\n  const createSortHandler = property => event => {\n    onRequestSort(event, property);\n  };\n\n  return /*#__PURE__*/_jsxDEV(TableHead, {\n    children: /*#__PURE__*/_jsxDEV(TableRow, {\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          indeterminate: numSelected > 0 && numSelected < rowCount,\n          checked: rowCount > 0 && numSelected === rowCount,\n          onChange: onSelectAllClick,\n          inputProps: {\n            'check box for': 'items'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), headCells.map(headCell => /*#__PURE__*/_jsxDEV(TableCell, {\n        align: headCell.numeric ? 'center' : 'left',\n        padding: headCell.disablePadding ? 'none' : 'default'\n        /* We don't really need sorting on update and delete, we should change that  */\n        ,\n        sortDirection: orderBy === headCell.id ? order : false,\n        children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n          active: orderBy === headCell.id,\n          direction: orderBy === headCell.id ? order : 'asc',\n          onClick: createSortHandler(headCell.id),\n          children: [headCell.label, orderBy === headCell.id ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.visuallyHidden,\n            children: order === 'desc' ? 'sorted descending' : 'sorted ascending'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, headCell.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ShoppingListHead;\nShoppingListHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired\n};\nconst useToolbarStyles = makeStyles(theme => ({\n  root: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(1)\n  },\n  highlight: theme.palette.type === 'light' ? {\n    color: theme.palette.secondary.main,\n    backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n  } : {\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.secondary.dark\n  },\n  title: {\n    flex: '1 1 90%'\n  }\n}));\n\nconst ShoppingListToolbar = props => {\n  _s();\n\n  const classes = useToolbarStyles();\n  const {\n    numSelected\n  } = props;\n  console.log('what is number selected? ', numSelected);\n  return /*#__PURE__*/_jsxDEV(Toolbar, {\n    className: clsx(classes.root, {\n      [classes.highlight]: numSelected > 0\n    }),\n    children: [numSelected > 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      color: \"inherit\",\n      variant: \"subtitle1\",\n      component: \"div\",\n      children: [numSelected, \" selected\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      variant: \"h6\",\n      id: \"tableTitle\",\n      component: \"div\",\n      children: \"Your Shopping List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this), numSelected > 0 ? /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Finished Shopping\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"finish shopping\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"fas fa-cart-arrow-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Start Shopping\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"start shopping\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"fas fa-shopping-basket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShoppingListToolbar, \"3YobLOlq21lAjJ1iCLt9G1iGJSo=\", false, function () {\n  return [useToolbarStyles];\n});\n\n_c2 = ShoppingListToolbar;\nShoppingListToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired\n};\n\nconst ShoppingList = props => {\n  _s2();\n\n  console.log('props on shoppping list');\n  const {\n    shopListId\n  } = props.userDetails;\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('calories');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  useEffect(() => {\n    return getShopList(shopListId);\n  }, [props.userDetails.shopListId]);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = event => {\n    if (event.target.checked) {\n      const newSelecteds = rows.map(n => n.name);\n      setSelected(newSelecteds);\n      return;\n    }\n\n    setSelected([]);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      console.log('click', name);\n    }\n\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n    console.log('new page', newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n    console.log('set pages?', setPage(0));\n  };\n\n  const isSelected = name => selected.indexOf(name) !== -1;\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(ShoppingListToolbar, {\n        numSelected: selected.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          className: classes.table,\n          \"aria-labelledby\": \"your shopping list\",\n          \"aria-label\": \"shopping list\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingListHead, {\n            classes: classes,\n            numSelected: selected.length,\n            order: order,\n            orderBy: orderBy,\n            onSelectAllClick: handleSelectAllClick,\n            onRequestSort: handleRequestSort,\n            rowCount: rows.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: stableSort(rows, getComparator(order, orderBy)).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\n              const isItemSelected = isSelected(row.name);\n              const labelId = `check box${index}`;\n              console.log('is item selected? ', isItemSelected);\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                hover: true,\n                onClick: event => handleClick(event, row.name),\n                role: \"checkbox\",\n                \"aria-checked\": isItemSelected,\n                tabIndex: -1,\n                selected: isItemSelected,\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  padding: \"checkbox\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    padding: \"10\",\n                    checked: isItemSelected,\n                    inputProps: {\n                      'list item number ': labelId\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  component: \"th\",\n                  id: labelId,\n                  scope: \"row\",\n                  align: \"center\",\n                  children: row.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"left\",\n                  children: row.items\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: row.unit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"left\",\n                  children: [row.actions, /*#__PURE__*/_jsxDEV(Actions, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 23\n                }, this)]\n              }, row.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n        rowsPerPageOptions: [10, 25, 50],\n        component: \"div\",\n        count: rows.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        onChangePage: handleChangePage,\n        onChangeRowsPerPage: handleChangeRowsPerPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ShoppingList, \"LNLQjb9aVHG6VAKr5YWMf5R/ChE=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = ShoppingList;\nexport default withStyles(useStyles)(ShoppingList);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ShoppingListHead\");\n$RefreshReg$(_c2, \"ShoppingListToolbar\");\n$RefreshReg$(_c3, \"ShoppingList\");","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/Components/ShoppingList.js"],"names":["React","useEffect","PropTypes","clsx","lighten","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TableSortLabel","Toolbar","Typography","Paper","Checkbox","IconButton","Tooltip","Actions","library","dom","faShoppingBasket","faCartArrowDown","withStyles","getShopList","add","watch","useStyles","theme","root","width","marginTop","spacing","paper","marginLeft","marginBottom","table","minWidth","visuallyHidden","border","clip","height","margin","overflow","padding","position","top","createData","quantity","items","unit","actions","rows","getComparator","order","orderBy","a","b","descendingComparator","stableSort","array","comparator","stabilizedThis","map","el","index","sort","headCells","id","numeric","disablePadding","label","ShoppingListHead","props","classes","onSelectAllClick","numSelected","rowCount","onRequestSort","createSortHandler","property","event","headCell","propTypes","object","isRequired","number","func","oneOf","string","useToolbarStyles","paddingLeft","paddingRight","highlight","palette","type","color","secondary","main","backgroundColor","light","text","primary","dark","title","flex","ShoppingListToolbar","console","log","ShoppingList","shopListId","userDetails","setOrder","useState","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","handleRequestSort","isAsc","handleSelectAllClick","target","checked","newSelecteds","n","name","handleClick","selectedIndex","indexOf","newSelected","concat","slice","length","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","value","isSelected","emptyRows","Math","min","row","isItemSelected","labelId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useEffect} from 'react'\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Actions from './ShopActions'\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { faShoppingBasket, faCartArrowDown } from '@fortawesome/free-solid-svg-icons';\nimport { withStyles } from '@material-ui/styles';\nimport { getShopList } from '../redux/actions/userShopList';\n\n\nlibrary.add(faShoppingBasket, faCartArrowDown) \ndom.watch()\n\n\n  //IMPORTANT NOTE!!!\n\n  //there should be three version of this \n\n  //primary list \n  //rename shop list \n  //view items \n  //start shopping  - end shopping \n    //check items off \n    //add items to pantry \n  //add items \n  //remove items\n  //update items  \n\n  //~~editor \n    //view items \n    //add items\n    //update items \n    //remove items\n    //start shopping  - end shopping \n    //check items off \n\n  //~~requests\n    //view items \n    //request items \n\n    const useStyles = makeStyles((theme) => ({\n      root: {\n        width: '100%',\n        marginTop: theme.spacing(4),\n      },\n      paper: {\n        width: '90%',\n        marginLeft: theme.spacing(4),\n        marginBottom: theme.spacing(2),\n      },\n      table: {\n        minWidth: 750,\n      },\n      visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n      }\n    }));\n\n\n    //quantity, measurement, item, spoonId\nconst createData = (quantity, items, unit, actions) => {\n  return { quantity, items, unit, actions};\n}\n\n//there is an issue with the drawer and page content. \n\n//need to add something to show role on table, are we going to need to write a query for that? \n\n//this will need to be replaced by content from the server \nconst rows = [\n  // createData( 305, 'Cupcake', 3.7),\n  // createData( 452, 'Donut', 3.7),\n  // createData( 305, 'Eclair', 3.7), \n  // createData( 5221, 'Frozen yoghurt', 159),  \n  // createData( 5, 'Gingerbread', 356),  \n  // createData( 1, 'Honeycomb', 408), \n  // createData( 32, 'Ice cream sandwich', 237), \n  // createData( 66, 'Jelly Bean', 375), \n  // createData( 23, 'KitKat', 518),  \n  // createData( 6565, 'Lollipop', 392),\n  // createData( 13.2, 'Marshmallow', 318),\n  // createData( 33, 'Nougat', 360),\n  // createData( 6666, 'Oreo', 437)\n];\n\n//sorting functions  DON'T TOUCH \nconst getComparator =(order, orderBy) => {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\n//sorting functions  DON'T TOUCH \nconst stableSort = (array, comparator) =>{\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\n//sorting functions  DON'T TOUCH \nconst descendingComparator = (a, b, orderBy) => {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nconst headCells = [\n  { id: 'quantity', numeric: true, disablePadding: false, label: 'Quantity' },\n  { id: 'items', numeric: false, disablePadding: false, label: 'Items' },\n  { id: 'unit', numeric: true, disablePadding: false, label: 'Unit' },\n  { id: 'actions', numeric: false, disablePadding: false, label: 'Actions' },\n];\n\nconst ShoppingListHead = (props) =>  {\n\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = props;\n\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell >\n        {/* update this, should only appear if they are in shop mode! If box is checked after shopping is completed, then it should be auto added to pantry and removed from list. */}\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ 'check box for': 'items' }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'center' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            /* We don't really need sorting on update and delete, we should change that  */\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nShoppingListHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  title: {\n    flex: '1 1 90%',\n  },\n}));\n\nconst ShoppingListToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const { numSelected } = props;\nconsole.log('what is number selected? ',numSelected)\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n        {/* This will have to be  imported from SQL*/}\n          Your Shopping List \n          {/* add items there needs to be a button here */}\n        </Typography>\n      )}\n\n      {numSelected > 0 ? (\n        <Tooltip title=\"Finished Shopping\">\n          <IconButton aria-label=\"finish shopping\">\n          <svg className=\"fas fa-cart-arrow-down\"/> \n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title=\"Start Shopping\">\n          <IconButton aria-label=\"start shopping\">\n          <svg className=\"fas fa-shopping-basket\"/>\n          </IconButton>\n        </Tooltip>\n        )}\n    </Toolbar>\n  );\n};\n\nShoppingListToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired\n\n}\n\nconst ShoppingList = (props) =>  {\n  console.log('props on shoppping list')\n\n  const {shopListId} = props.userDetails\n\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('calories');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  useEffect(() => {\n    \n    return getShopList(shopListId)\n  }, [props.userDetails.shopListId])\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rows.map((n) => n.name);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n      console.log('click', name)\n    }\n\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n    console.log('new page', newPage)\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n    console.log('set pages?', setPage(0))\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <ShoppingListToolbar  numSelected={selected.length} />\n        <TableContainer>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"your shopping list\"\n            aria-label=\"shopping list\"\n          >\n            <ShoppingListHead\n              classes={classes}\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  const isItemSelected = isSelected(row.name);\n                  const labelId = `check box${index}`;\n                    console.log('is item selected? ', isItemSelected)\n                  return (\n                    <TableRow\n                      hover\n                      onClick={(event) => handleClick(event, row.name)}\n                      role=\"checkbox\"\n                      aria-checked={isItemSelected}\n                      tabIndex={-1}\n                      key={row.name}\n                      selected={isItemSelected}\n                    >\n                      <TableCell padding=\"checkbox\">\n                        <Checkbox\n                          padding=\"10\"\n                          checked={isItemSelected}\n                          inputProps={{ 'list item number ': labelId }}\n                        />\n                      </TableCell>\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" align=\"center\">\n                        {row.quantity}\n                      </TableCell>\n                      <TableCell align=\"left\">{row.items}</TableCell>\n                      <TableCell align=\"right\">{row.unit}</TableCell>\n                      <TableCell align=\"left\">{row.actions}\n                        <Actions/>\n                        </TableCell>\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <TablePagination\n          rowsPerPageOptions={[10, 25, 50]}\n          component=\"div\"\n          count={rows.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onChangePage={handleChangePage}\n          onChangeRowsPerPage={handleChangeRowsPerPage}\n        />\n      </Paper>\n    </div>\n  );\n}\n\nexport default withStyles(useStyles)(ShoppingList)"]},"metadata":{},"sourceType":"module"}