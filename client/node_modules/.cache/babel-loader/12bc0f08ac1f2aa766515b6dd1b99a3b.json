{"ast":null,"code":"import { CREATE_NEW_USER } from './types';\nimport moment from 'moment';\nexport const createNewUser = (userId, firstName, lastName, email, password, bDay) => async dispatch => {\n  let dobMonth = '';\n  let dobDate = '';\n  let dobYear = '';\n\n  const modBirthday = day => {\n    let dob = day.value.split('-');\n    console.log(dob);\n    dobYear = dob[0];\n    dobDate = dob[1];\n    dobMonth = dob[2];\n  };\n\n  modBirthday(bDay.value);\n  console.log('make sure on the birthday', dobMonth, dobDate, dobYear);\n\n  try {\n    let res = await fetch('/preLogin/createUser', {\n      method: 'POST',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"username\": `${userId.value}`,\n        \"password\": `${password.value}`,\n        \"email\": `${email.value}`,\n        \"firstName\": `${firstName.value}`,\n        \"lastName\": `${lastName.value}`,\n        \"dobMonth\": dobMonth,\n        \"dobDate\": dobDate,\n        \"dobYear\": dobYear\n      }\n    });\n    let getResult = await res.json();\n    console.log('create new user', getResult);\n    let result = { ...getResult\n    };\n    dispatch({\n      type: CREATE_NEW_USER,\n      payload: {\n        newUser: {\n          created: true,\n          returned: result\n        }\n      }\n    });\n  } catch (e) {\n    return 'what the error the user details? ', {\n      e\n    };\n  }\n};","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/redux/actions/createNewUser.js"],"names":["CREATE_NEW_USER","moment","createNewUser","userId","firstName","lastName","email","password","bDay","dispatch","dobMonth","dobDate","dobYear","modBirthday","day","dob","value","split","console","log","res","fetch","method","headers","Accept","getResult","json","result","type","payload","newUser","created","returned","e"],"mappings":"AAAA,SAAQA,eAAR,QAA8B,SAA9B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,MAAD,EAASC,SAAT,EAAoBC,QAApB,EAA8BC,KAA9B,EAAqCC,QAArC,EAA+CC,IAA/C,KAAwD,MAAMC,QAAN,IAAkB;AAErG,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,OAAO,GAAG,EAAd;;AAEA,QAAMC,WAAW,GAAIC,GAAD,IAAS;AACzB,QAAIC,GAAG,GAAGD,GAAG,CAACE,KAAJ,CAAUC,KAAV,CAAgB,GAAhB,CAAV;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACAH,IAAAA,OAAO,GAACG,GAAG,CAAC,CAAD,CAAX;AACAJ,IAAAA,OAAO,GAACI,GAAG,CAAC,CAAD,CAAX;AACAL,IAAAA,QAAQ,GAACK,GAAG,CAAC,CAAD,CAAZ;AACH,GAND;;AAQAF,EAAAA,WAAW,CAACL,IAAI,CAACQ,KAAN,CAAX;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCT,QAAzC,EAAmDC,OAAnD,EAA4DC,OAA5D;;AAEA,MAAG;AACC,QAAIQ,GAAG,GAAG,MAAMC,KAAK,CAAC,sBAAD,EAAyB;AAC5CC,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AACqB,wBAAgB,kBADrC;AAEP,oBAAa,GAAErB,MAAM,CAACa,KAAM,EAFrB;AAGP,oBAAa,GAAET,QAAQ,CAACS,KAAM,EAHvB;AAIP,iBAAU,GAAEV,KAAK,CAACU,KAAM,EAJjB;AAKP,qBAAc,GAAEZ,SAAS,CAACY,KAAM,EALzB;AAMP,oBAAa,GAAEX,QAAQ,CAACW,KAAM,EANvB;AAOP,oBAAYN,QAPL;AAQP,mBAAWC,OARJ;AASP,mBAAWC;AATJ;AAFmC,KAAzB,CAArB;AAeA,QAAIa,SAAS,GAAG,MAAML,GAAG,CAACM,IAAJ,EAAtB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BM,SAA/B;AACA,QAAIE,MAAM,GAAG,EAAC,GAAGF;AAAJ,KAAb;AACAhB,IAAAA,QAAQ,CAAC;AACPmB,MAAAA,IAAI,EAAE5B,eADC;AAEL6B,MAAAA,OAAO,EAAE;AACPC,QAAAA,OAAO,EAAE;AACPC,UAAAA,OAAO,EAAE,IADF;AAEPC,UAAAA,QAAQ,EAAEL;AAFH;AADF;AAFJ,KAAD,CAAR;AASD,GA5BH,CA4BI,OAAOM,CAAP,EAAU;AACV,WAAO,qCAAqC;AAACA,MAAAA;AAAD,KAA5C;AACH;AAEF,CAlDM","sourcesContent":["import {CREATE_NEW_USER} from './types'\nimport moment from 'moment'\n\nexport const createNewUser = (userId, firstName, lastName, email, password, bDay) => async dispatch => {\n\n  let dobMonth = ''\n  let dobDate = ''\n  let dobYear = ''\n\n  const modBirthday = (day) => {\n      let dob = day.value.split('-')\n      console.log(dob)\n      dobYear=dob[0]\n      dobDate=dob[1]\n      dobMonth=dob[2]\n  }\n\n  modBirthday(bDay.value)\n\n  console.log('make sure on the birthday', dobMonth, dobDate, dobYear)\n\n  try{\n      let res = await fetch('/preLogin/createUser', {\n        method: 'POST',\n        headers: {\n          Accept: \"application/json\", \"Content-Type\": \"application/json\",\n          \"username\": `${userId.value}`,\n          \"password\": `${password.value}`,\n          \"email\": `${email.value}`,\n          \"firstName\": `${firstName.value}`,\n          \"lastName\": `${lastName.value}`,\n          \"dobMonth\": dobMonth,\n          \"dobDate\": dobDate,\n          \"dobYear\": dobYear\n        }\n      }\n      )\n      let getResult = await res.json()\n      console.log('create new user', getResult)\n      let result = {...getResult}\n      dispatch({\n        type: CREATE_NEW_USER,\n          payload: {\n            newUser: {\n              created: true,\n              returned: result\n            }\n          }\n      })\n    } catch (e) {\n      return 'what the error the user details? ', {e}\n  }\n\n}"]},"metadata":{},"sourceType":"module"}