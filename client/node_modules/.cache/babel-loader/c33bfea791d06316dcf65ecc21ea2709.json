{"ast":null,"code":"import { USER_DETAILS } from './types';\nimport moment from 'moment';\nexport const getDetails = (pass, user) => async dispatch => {\n  let path = `/postLogin/${user.username}/current/info`;\n  let intake = pass.token;\n\n  try {\n    let res = await fetch(path, {\n      method: 'GET',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        token: `${intake}`\n      }\n    });\n    let getResult = await res.json();\n    let result = { ...getResult\n    };\n    dispatch({\n      type: USER_DETAILS,\n      payload: {\n        userDetails: {\n          username: result[0].username,\n          pantryId: result[0].pantrySettingId,\n          shopListId: result[0].shopListSetId,\n          palListId: result[0].palListSettingsId,\n          accessId: result[0].accessId,\n          time: moment(),\n          run: true\n        }\n      }\n    });\n  } catch (e) {\n    return 'what the error the user details? ', {\n      e\n    };\n  }\n};","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/redux/actions/userDetails.js"],"names":["USER_DETAILS","moment","getDetails","pass","user","dispatch","path","username","intake","token","res","fetch","method","headers","Accept","getResult","json","result","type","payload","userDetails","pantryId","pantrySettingId","shopListId","shopListSetId","palListId","palListSettingsId","accessId","time","run","e"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,SAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB,MAAMC,QAAN,IAAkB;AAC1D,MAAIC,IAAI,GAAI,cAAaF,IAAI,CAACG,QAAS,eAAvC;AACA,MAAIC,MAAM,GAAGL,IAAI,CAACM,KAAlB;;AAEA,MAAG;AACC,QAAIC,GAAG,GAAG,MAAMC,KAAK,CAACL,IAAD,EAAO;AAC1BM,MAAAA,MAAM,EAAE,KADkB;AAE1BC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AACqB,wBAAgB,kBADrC;AAEPL,QAAAA,KAAK,EAAG,GAAED,MAAO;AAFV;AAFiB,KAAP,CAArB;AAQA,QAAIO,SAAS,GAAG,MAAML,GAAG,CAACM,IAAJ,EAAtB;AACA,QAAIC,MAAM,GAAG,EAAC,GAAGF;AAAJ,KAAb;AACAV,IAAAA,QAAQ,CAAC;AACPa,MAAAA,IAAI,EAAElB,YADC;AAELmB,MAAAA,OAAO,EAAE;AACPC,QAAAA,WAAW,EAAE;AACXb,UAAAA,QAAQ,EAAEU,MAAM,CAAC,CAAD,CAAN,CAAUV,QADT;AAEXc,UAAAA,QAAQ,EAAEJ,MAAM,CAAC,CAAD,CAAN,CAAUK,eAFT;AAGXC,UAAAA,UAAU,EAAEN,MAAM,CAAC,CAAD,CAAN,CAAUO,aAHX;AAIXC,UAAAA,SAAS,EAAER,MAAM,CAAC,CAAD,CAAN,CAAUS,iBAJV;AAKXC,UAAAA,QAAQ,EAAEV,MAAM,CAAC,CAAD,CAAN,CAAUU,QALT;AAMXC,UAAAA,IAAI,EAAC3B,MAAM,EANA;AAOX4B,UAAAA,GAAG,EAAE;AAPM;AADN;AAFJ,KAAD,CAAR;AAcD,GAzBH,CAyBI,OAAOC,CAAP,EAAU;AACV,WAAO,qCAAqC;AAACA,MAAAA;AAAD,KAA5C;AACH;AAEF,CAjCM","sourcesContent":["import {USER_DETAILS} from './types'\nimport moment from 'moment'\n\nexport const getDetails = (pass, user) => async dispatch => {\n  let path = `/postLogin/${user.username}/current/info`\n  let intake = pass.token\n\n  try{\n      let res = await fetch(path, {\n        method: 'GET',\n        headers: {\n          Accept: \"application/json\", \"Content-Type\": \"application/json\",\n          token: `${intake}`,\n        }\n      }\n      )\n      let getResult = await res.json()\n      let result = {...getResult}\n      dispatch({\n        type: USER_DETAILS,\n          payload: {\n            userDetails: {\n              username: result[0].username,\n              pantryId: result[0].pantrySettingId, \n              shopListId: result[0].shopListSetId, \n              palListId: result[0].palListSettingsId, \n              accessId: result[0].accessId,\n              time:moment(),\n              run: true\n            }\n          }\n      })\n    } catch (e) {\n      return 'what the error the user details? ', {e}\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}