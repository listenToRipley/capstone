{"ast":null,"code":"import _objectSpread from\"/Users/moonbox/Documents/capstone/pantrypal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Paper from'@material-ui/core/Paper';import Box from'@material-ui/core/Box';import Grid from'@material-ui/core/Grid';import ListItem from'@material-ui/core/ListItem';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{Link}from'react-router-dom';import{makeStyles}from'@material-ui/core/styles';import{withStyles}from'@material-ui/styles';import{useInput}from'../Hooks/inputHook';import PropTypes from'prop-types';import{useHistory}from'react-router-dom';import cookie from'cookie';var useStyles=makeStyles(function(theme){return{root:{height:'100vh'},image:{backgroundImage:'url(https://images.unsplash.com/photo-1590311824865-bac58a024e51?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80)',backgroundRepeat:'no-repeat',backgroundColor:theme.palette.type==='light'?theme.palette.grey[50]:theme.palette.grey[900],backgroundSize:'cover',backgroundPosition:'center'},paper:{margin:theme.spacing(8,4),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});var LogIn=function LogIn(props){var classes=useStyles();var history=useHistory();var user=props.user;var _useInput=useInput(''),username=_useInput.value,bindUsername=_useInput.bind,resetUsername=_useInput.reset;var _useInput2=useInput(''),password=_useInput2.value,bindPassword=_useInput2.bind,resetPassword=_useInput2.reset;var sendValidation=function sendValidation(e){e.preventDefault();return props.login(username=_objectSpread({},bindUsername),password=_objectSpread({},bindPassword));};useEffect(function(){if(user.validation){document.cookie=\"logCookies=\"+JSON.stringify({\"username\":user.username,\"validation\":true,\"token\":user.pass.token});history.push('/home');}});return/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{item:true,xs:false,sm:4,md:7,className:classes.image}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",\"aria-label\":\"sign in for pantry pals\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},bindUsername),{},{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",type:\"text\",autoFocus:true,\"aria-label\":\"your username\"})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},bindPassword),{},{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,label:\"Password\",type:\"password\",id:\"password\",\"aria-label\":\"your password\"})),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,\"aria-label\":\"sign in button\",onClick:sendValidation,children:\"Sign In\"}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(ListItem,{button:true,component:Link,to:\"/createNewUser\",\"aria-label\":\"create a login for pantry pals\",children:\"Don't have an account? Sign Up\"})})]}),/*#__PURE__*/_jsx(Box,{mt:5})]})]})})]});};LogIn.proptypes={username:PropTypes.string.isRequired,password:PropTypes.string.isRequired,login:PropTypes.bool.isRequired,validation:PropTypes.object};export default LogIn;","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/Components/LogIn.js"],"names":["React","useEffect","Avatar","Button","CssBaseline","TextField","Paper","Box","Grid","ListItem","LockOutlinedIcon","Typography","Link","makeStyles","withStyles","useInput","PropTypes","useHistory","cookie","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","LogIn","props","classes","history","user","username","value","bindUsername","bind","resetUsername","reset","password","bindPassword","resetPassword","sendValidation","e","preventDefault","login","validation","document","JSON","stringify","pass","token","push","proptypes","string","isRequired","bool","object"],"mappings":"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","sourcesContent":["import React, { useEffect} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport ListItem from '@material-ui/core/ListItem';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withStyles } from '@material-ui/styles';\nimport {useInput} from '../Hooks/inputHook';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom'\nimport cookie from 'cookie'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://images.unsplash.com/photo-1590311824865-bac58a024e51?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst LogIn = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  let {user}= props\n\n  let {value: username, bind: bindUsername, reset:resetUsername} = useInput('')\n  let {value: password, bind: bindPassword, reset:resetPassword} = useInput('')\n\n    const sendValidation = e => {\n      e.preventDefault();\n   return props.login(username={...bindUsername},password={...bindPassword})\n    }\n\n    useEffect(()=> {\n      if(user.validation) {\n        document.cookie = \"logCookies=\"+JSON.stringify({\n          \"username\":user.username,\n          \"validation\": true,\n          \"token\": user.pass.token,\n            })\n        history.push('/home')\n      }\n    })\n\n  return (\n      <Grid \n      container \n      component=\"main\" \n      className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} >\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" \n          variant=\"h5\"\n          aria-label='sign in for pantry pals'\n          >\n            Sign in\n          </Typography>\n       \n          <form className={classes.form}>\n            <TextField\n              {...bindUsername}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              type=\"text\"\n              autoFocus\n              aria-label='your username'\n            />\n            <TextField\n              {...bindPassword}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              aria-label='your password'\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              aria-label='sign in button'\n              onClick={sendValidation}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n              </Grid>\n              <Grid item>\n                <ListItem\n                button\n                component={Link}\n                to=\"/createNewUser\" \n                aria-label='create a login for pantry pals'\n                >\n                  {\"Don't have an account? Sign Up\"}\n                </ListItem>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n\n  )\n}\n\nLogIn.proptypes = {\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n  login: PropTypes.bool.isRequired,\n  validation: PropTypes.object\n}\n\nexport default LogIn"]},"metadata":{},"sourceType":"module"}