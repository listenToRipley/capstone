{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (client) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : options,\n      _ref$cacheMaxEntries = _ref.cacheMaxEntries,\n      cacheMaxEntries = _ref$cacheMaxEntries === undefined ? 5 : _ref$cacheMaxEntries,\n      _ref$cacheMaxAge = _ref.cacheMaxAge,\n      cacheMaxAge = _ref$cacheMaxAge === undefined ? (0, _ms2.default)('10m') : _ref$cacheMaxAge;\n\n  var logger = (0, _debug2.default)('jwks');\n  var getSigningKey = client.getSigningKey;\n  logger('Configured caching of signing keys. Max: ' + cacheMaxEntries + ' / Age: ' + cacheMaxAge);\n  return (0, _lruMemoizer2.default)({\n    load: function load(kid, callback) {\n      getSigningKey(kid, function (err, key) {\n        if (err) {\n          return callback(err);\n        }\n\n        logger('Caching signing key for \\'' + kid + '\\':', key);\n        return callback(null, key);\n      });\n    },\n    hash: function hash(kid) {\n      return kid;\n    },\n    maxAge: cacheMaxAge,\n    max: cacheMaxEntries\n  });\n};\n\nvar _ms = require('ms');\n\nvar _ms2 = _interopRequireDefault(_ms);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _lruMemoizer = require('lru-memoizer');\n\nvar _lruMemoizer2 = _interopRequireDefault(_lruMemoizer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/node_modules/jwks-rsa/lib/wrappers/cache.js"],"names":["Object","defineProperty","exports","value","default","client","_ref","arguments","length","undefined","options","_ref$cacheMaxEntries","cacheMaxEntries","_ref$cacheMaxAge","cacheMaxAge","_ms2","logger","_debug2","getSigningKey","_lruMemoizer2","load","kid","callback","err","key","hash","maxAge","max","_ms","require","_interopRequireDefault","_debug","_lruMemoizer","obj","__esModule"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIAD,OAAO,CAACE,OAAR,GAAkB,UAAUC,MAAV,EAAkB;AAClC,MAAIC,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEG,OAA/E;AAAA,MACIC,oBAAoB,GAAGL,IAAI,CAACM,eADhC;AAAA,MAEIA,eAAe,GAAGD,oBAAoB,KAAKF,SAAzB,GAAqC,CAArC,GAAyCE,oBAF/D;AAAA,MAGIE,gBAAgB,GAAGP,IAAI,CAACQ,WAH5B;AAAA,MAIIA,WAAW,GAAGD,gBAAgB,KAAKJ,SAArB,GAAiC,CAAC,GAAGM,IAAI,CAACX,OAAT,EAAkB,KAAlB,CAAjC,GAA4DS,gBAJ9E;;AAMA,MAAIG,MAAM,GAAG,CAAC,GAAGC,OAAO,CAACb,OAAZ,EAAqB,MAArB,CAAb;AACA,MAAIc,aAAa,GAAGb,MAAM,CAACa,aAA3B;AAEAF,EAAAA,MAAM,CAAC,8CAA8CJ,eAA9C,GAAgE,UAAhE,GAA6EE,WAA9E,CAAN;AACA,SAAO,CAAC,GAAGK,aAAa,CAACf,OAAlB,EAA2B;AAChCgB,IAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,GAAd,EAAmBC,QAAnB,EAA6B;AACjCJ,MAAAA,aAAa,CAACG,GAAD,EAAM,UAAUE,GAAV,EAAeC,GAAf,EAAoB;AACrC,YAAID,GAAJ,EAAS;AACP,iBAAOD,QAAQ,CAACC,GAAD,CAAf;AACD;;AAEDP,QAAAA,MAAM,CAAC,+BAA+BK,GAA/B,GAAqC,KAAtC,EAA6CG,GAA7C,CAAN;AACA,eAAOF,QAAQ,CAAC,IAAD,EAAOE,GAAP,CAAf;AACD,OAPY,CAAb;AAQD,KAV+B;AAWhCC,IAAAA,IAAI,EAAE,SAASA,IAAT,CAAcJ,GAAd,EAAmB;AACvB,aAAOA,GAAP;AACD,KAb+B;AAchCK,IAAAA,MAAM,EAAEZ,WAdwB;AAehCa,IAAAA,GAAG,EAAEf;AAf2B,GAA3B,CAAP;AAiBD,CA5BD;;AA8BA,IAAIgB,GAAG,GAAGC,OAAO,CAAC,IAAD,CAAjB;;AAEA,IAAId,IAAI,GAAGe,sBAAsB,CAACF,GAAD,CAAjC;;AAEA,IAAIG,MAAM,GAAGF,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIZ,OAAO,GAAGa,sBAAsB,CAACC,MAAD,CAApC;;AAEA,IAAIC,YAAY,GAAGH,OAAO,CAAC,cAAD,CAA1B;;AAEA,IAAIV,aAAa,GAAGW,sBAAsB,CAACE,YAAD,CAA1C;;AAEA,SAASF,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAE7B,IAAAA,OAAO,EAAE6B;AAAX,GAArC;AAAwD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (client) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : options,\n      _ref$cacheMaxEntries = _ref.cacheMaxEntries,\n      cacheMaxEntries = _ref$cacheMaxEntries === undefined ? 5 : _ref$cacheMaxEntries,\n      _ref$cacheMaxAge = _ref.cacheMaxAge,\n      cacheMaxAge = _ref$cacheMaxAge === undefined ? (0, _ms2.default)('10m') : _ref$cacheMaxAge;\n\n  var logger = (0, _debug2.default)('jwks');\n  var getSigningKey = client.getSigningKey;\n\n  logger('Configured caching of signing keys. Max: ' + cacheMaxEntries + ' / Age: ' + cacheMaxAge);\n  return (0, _lruMemoizer2.default)({\n    load: function load(kid, callback) {\n      getSigningKey(kid, function (err, key) {\n        if (err) {\n          return callback(err);\n        }\n\n        logger('Caching signing key for \\'' + kid + '\\':', key);\n        return callback(null, key);\n      });\n    },\n    hash: function hash(kid) {\n      return kid;\n    },\n    maxAge: cacheMaxAge,\n    max: cacheMaxEntries\n  });\n};\n\nvar _ms = require('ms');\n\nvar _ms2 = _interopRequireDefault(_ms);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _lruMemoizer = require('lru-memoizer');\n\nvar _lruMemoizer2 = _interopRequireDefault(_lruMemoizer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }"]},"metadata":{},"sourceType":"script"}