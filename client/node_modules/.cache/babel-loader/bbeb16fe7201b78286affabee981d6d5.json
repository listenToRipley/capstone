{"ast":null,"code":"//userPersonalInfo on back end \nimport { USER_DETAILS } from './types';\nexport const userDetails = (pass, user) => async dispatch => {\n  console.log('user in user details ?', user);\n  let path = `/postLogin/${user.username}/current/info`;\n  let intake = pass.token;\n  let today = new Date();\n  console.log('here is the path you are trying to use', path);\n\n  try {\n    let res = await fetch(path, {\n      method: 'GET',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        token: `${intake}`,\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    });\n    console.log('this is the res from the fetch? ', res);\n    let result = await res.json();\n    console.log('what is the result for the call? ', result);\n    dispatch({\n      type: USER_DETAILS,\n      payload: {\n        userDetails: {\n          username: user.username,\n          email: result[0].email,\n          firstName: result[0].firstName,\n          lastName: result[0].lastName,\n          userLocationId: result[0].userLocationId,\n          displayPrefId: result[0].displayPrefId,\n          pantryId: result[0].pantrySettingId,\n          shopListId: result[0].shopListSetId,\n          palListId: result[0].palListSettingsId,\n          accessId: result[0].accessId,\n          loggedIn: today,\n          run: true\n        }\n      }\n    });\n  } catch (e) {\n    return 'what the error the user details? ', {\n      e\n    };\n  }\n};","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/redux/actions/userDetails.js"],"names":["USER_DETAILS","userDetails","pass","user","dispatch","console","log","path","username","intake","token","today","Date","res","fetch","method","headers","Accept","result","json","type","payload","email","firstName","lastName","userLocationId","displayPrefId","pantryId","pantrySettingId","shopListId","shopListSetId","palListId","palListSettingsId","accessId","loggedIn","run","e"],"mappings":"AAAA;AACA,SAAQA,YAAR,QAA2B,SAA3B;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB,MAAMC,QAAN,IAAkB;AAC3DC,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCH,IAAtC;AACA,MAAII,IAAI,GAAI,cAAaJ,IAAI,CAACK,QAAS,eAAvC;AACA,MAAIC,MAAM,GAAGP,IAAI,CAACQ,KAAlB;AACA,MAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDC,IAAtD;;AAEA,MAAG;AACC,QAAIM,GAAG,GAAG,MAAMC,KAAK,CAACP,IAAD,EAAO;AAC1BQ,MAAAA,MAAM,EAAE,KADkB;AAE1BC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AACqB,wBAAgB,kBADrC;AAEPP,QAAAA,KAAK,EAAG,GAAED,MAAO,EAFV;AAGP,uCAA+B;AAHxB;AAFiB,KAAP,CAArB;AASAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDO,GAAhD;AACA,QAAIK,MAAM,GAAG,MAAML,GAAG,CAACM,IAAJ,EAAnB;AACAd,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDY,MAAjD;AACAd,IAAAA,QAAQ,CAAC;AACPgB,MAAAA,IAAI,EAAEpB,YADC;AAELqB,MAAAA,OAAO,EAAE;AACPpB,QAAAA,WAAW,EAAE;AACXO,UAAAA,QAAQ,EAAEL,IAAI,CAACK,QADJ;AAEXc,UAAAA,KAAK,EAAEJ,MAAM,CAAC,CAAD,CAAN,CAAUI,KAFN;AAGXC,UAAAA,SAAS,EAAEL,MAAM,CAAC,CAAD,CAAN,CAAUK,SAHV;AAIXC,UAAAA,QAAQ,EAAEN,MAAM,CAAC,CAAD,CAAN,CAAUM,QAJT;AAKXC,UAAAA,cAAc,EAAEP,MAAM,CAAC,CAAD,CAAN,CAAUO,cALf;AAMXC,UAAAA,aAAa,EAAER,MAAM,CAAC,CAAD,CAAN,CAAUQ,aANd;AAOXC,UAAAA,QAAQ,EAAET,MAAM,CAAC,CAAD,CAAN,CAAUU,eAPT;AAQXC,UAAAA,UAAU,EAAEX,MAAM,CAAC,CAAD,CAAN,CAAUY,aARX;AASXC,UAAAA,SAAS,EAAEb,MAAM,CAAC,CAAD,CAAN,CAAUc,iBATV;AAUXC,UAAAA,QAAQ,EAAEf,MAAM,CAAC,CAAD,CAAN,CAAUe,QAVT;AAWXC,UAAAA,QAAQ,EAAEvB,KAXC;AAYXwB,UAAAA,GAAG,EAAE;AAZM;AADN;AAFJ,KAAD,CAAR;AAmBD,GAhCH,CAgCI,OAAOC,CAAP,EAAU;AACV,WAAO,qCAAqC;AAACA,MAAAA;AAAD,KAA5C;AACH;AAEF,CA3CM","sourcesContent":["//userPersonalInfo on back end \nimport {USER_DETAILS} from './types'\n\nexport const userDetails = (pass, user) => async dispatch => {\n  console.log('user in user details ?', user)\n  let path = `/postLogin/${user.username}/current/info`\n  let intake = pass.token\n  let today = new Date()\n  console.log('here is the path you are trying to use', path)\n\n  try{\n      let res = await fetch(path, {\n        method: 'GET',\n        headers: {\n          Accept: \"application/json\", \"Content-Type\": \"application/json\",\n          token: `${intake}`,\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      }\n      )\n      console.log('this is the res from the fetch? ', res)\n      let result = await res.json()\n      console.log('what is the result for the call? ', result)\n      dispatch({\n        type: USER_DETAILS,\n          payload: {\n            userDetails: {\n              username: user.username,\n              email: result[0].email, \n              firstName: result[0].firstName, \n              lastName: result[0].lastName, \n              userLocationId: result[0].userLocationId,\n              displayPrefId: result[0].displayPrefId, \n              pantryId: result[0].pantrySettingId, \n              shopListId: result[0].shopListSetId, \n              palListId: result[0].palListSettingsId, \n              accessId: result[0].accessId,\n              loggedIn: today,\n              run: true\n            }\n          }\n      })\n    } catch (e) {\n      return 'what the error the user details? ', {e}\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}