{"ast":null,"code":"import _regeneratorRuntime from\"/Users/moonbox/Documents/capstone/pantrypal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/moonbox/Documents/capstone/pantrypal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{FIND_FOOD}from'./types';var API_KEY=process.env.REACT_APP_SPOON_API_KEY;export var findFood=function findFood(input){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var path,res,result,product;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:path=\"https://api.spoonacular.com/food/products/search?query=\".concat(input,\"&number=10&apiKey=\").concat(API_KEY);_context.prev=1;_context.next=4;return fetch(path,{method:'GET',header:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}});case 4:res=_context.sent;_context.next=7;return res.json();case 7:result=_context.sent;product=result.products;dispatch({type:FIND_FOOD,payload:product[0]});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",('what is the error ',{e:_context.t0}));case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/client/src/redux/actions/findFood.js"],"names":["FIND_FOOD","API_KEY","process","env","REACT_APP_SPOON_API_KEY","findFood","input","dispatch","path","fetch","method","header","Accept","res","json","result","product","products","type","payload","e"],"mappings":"+UAAA,OAAQA,SAAR,KAAwB,SAAxB,CAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,uBAA5B,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,iGAAY,iBAAMC,QAAN,8IAE9BC,IAF8B,kEAEmCF,KAFnC,8BAE6DL,OAF7D,wCAKhBQ,CAAAA,KAAK,CAACD,IAAD,CAAO,CAC1BE,MAAM,CAAE,KADkB,CAE1BC,MAAM,CAAE,CACNC,MAAM,CAAE,kBADF,CACsB,eAAgB,kBADtC,CAFkB,CAAP,CALW,QAK5BC,GAL4B,qCAWbA,CAAAA,GAAG,CAACC,IAAJ,EAXa,QAW5BC,MAX4B,eAY5BC,OAZ4B,CAYlBD,MAAM,CAACE,QAZW,CAa9BV,QAAQ,CAAC,CACLW,IAAI,CAAElB,SADD,CAELmB,OAAO,CAAEH,OAAO,CAAC,CAAD,CAFX,CAAD,CAAR,CAb8B,kHAmBzB,qBAAsB,CAACI,CAAC,YAAF,CAnBG,wEAAZ,gEAAjB","sourcesContent":["import {FIND_FOOD} from './types'\n\nconst API_KEY = process.env.REACT_APP_SPOON_API_KEY;\n\nexport const findFood = (input)  => async dispatch => {\n\n  let path = `https://api.spoonacular.com/food/products/search?query=${input}&number=10&apiKey=${API_KEY}`\n\n  try {\n    let res = await fetch(path, {\n      method: 'GET',\n      header: {\n        Accept: \"application/json\", \"Content-Type\": \"application/json\"\n      }\n    })\n    let result = await res.json()\n    let product = result.products \n      dispatch({ \n          type: FIND_FOOD,\n          payload: product[0]\n       })\n  }\n  catch(e) {\n    return 'what is the error ', {e}\n  }\n}\n"]},"metadata":{},"sourceType":"module"}