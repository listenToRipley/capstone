{"ast":null,"code":"const mysql = require('mysql');\n\nconst pool = require('../../../sql/connection');\n\nconst {\n  handleSQLError\n} = require('../../../sql/error'); //PUT\n\n\nconst updateTitle = (req, res) => {\n  const {\n    pantryId\n  } = req.params;\n  const {\n    title\n  } = req.body;\n  let sql = 'UPDATE pantriesSettings SET pantryName=? WHERE pantrySettingId=?';\n  sql = mysql.format(sql, [title, pantryId]);\n  pool.query(sql, (err, results) => {\n    if (err) return handleSQLError(res, err);\n    return res.status(204).json();\n  });\n};\n\nconst updateAutoAddShop = (req, res) => {\n  let {\n    pantryId\n  } = req.params;\n  let {\n    boo\n  } = req.body;\n  let sql = 'UPDATE pantriesSettings SET autoAdd= ?  WHERE pantrySettingId= ? ';\n  sql = mysql.format(sql, [boo, pantryId]);\n  pool.query(sql, (err, results) => {\n    if (err) return handleSQLError(res, err);\n    return res.status(204).json();\n  });\n};\n\nmodule.exports = {\n  updateAutoAddShop,\n  updateTitle\n};","map":{"version":3,"sources":["/Users/moonbox/Documents/capstone/pantrypal/controller/appFunc/pantries/settings.js"],"names":["mysql","require","pool","handleSQLError","updateTitle","req","res","pantryId","params","title","body","sql","format","query","err","results","status","json","updateAutoAddShop","boo","module","exports"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,yBAAD,CAApB;;AACA,MAAM;AAAEE,EAAAA;AAAF,IAAqBF,OAAO,CAAC,oBAAD,CAAlC,C,CAEA;;;AACA,MAAMG,WAAW,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AAEhC,QAAM;AAACC,IAAAA;AAAD,MAAaF,GAAG,CAACG,MAAvB;AACA,QAAM;AAACC,IAAAA;AAAD,MAAUJ,GAAG,CAACK,IAApB;AAEA,MAAIC,GAAG,GAAG,kEAAV;AAEAA,EAAAA,GAAG,GAAGX,KAAK,CAACY,MAAN,CAAaD,GAAb,EAAkB,CAACF,KAAD,EAAQF,QAAR,CAAlB,CAAN;AAEAL,EAAAA,IAAI,CAACW,KAAL,CAAWF,GAAX,EAAgB,CAACG,GAAD,EAAMC,OAAN,KAAkB;AAChC,QAAGD,GAAH,EAAQ,OAAOX,cAAc,CAACG,GAAD,EAAMQ,GAAN,CAArB;AACR,WAAOR,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,EAAP;AACD,GAHD;AAKD,CAdD;;AAgBA,MAAMC,iBAAiB,GAAG,CAACb,GAAD,EAAMC,GAAN,KAAc;AAExC,MAAI;AAACC,IAAAA;AAAD,MAAaF,GAAG,CAACG,MAArB;AACA,MAAI;AAACW,IAAAA;AAAD,MAAQd,GAAG,CAACK,IAAhB;AAEA,MAAIC,GAAG,GAAE,mEAAT;AAEAA,EAAAA,GAAG,GAAEX,KAAK,CAACY,MAAN,CAAaD,GAAb,EAAkB,CAACQ,GAAD,EAAMZ,QAAN,CAAlB,CAAL;AAEAL,EAAAA,IAAI,CAACW,KAAL,CAAWF,GAAX,EAAgB,CAACG,GAAD,EAAMC,OAAN,KAAkB;AAChC,QAAGD,GAAH,EAAQ,OAAOX,cAAc,CAACG,GAAD,EAAMQ,GAAN,CAArB;AACR,WAAOR,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,EAAP;AACD,GAHD;AAKC,CAdD;;AAgBAG,MAAM,CAACC,OAAP,GAAiB;AACfH,EAAAA,iBADe;AAEfd,EAAAA;AAFe,CAAjB","sourcesContent":["const mysql = require('mysql')\nconst pool = require('../../../sql/connection')\nconst { handleSQLError } = require('../../../sql/error')\n\n//PUT\nconst updateTitle = (req, res) => {\n\n  const {pantryId} = req.params\n  const {title} = req.body\n\n  let sql = 'UPDATE pantriesSettings SET pantryName=? WHERE pantrySettingId=?'\n\n  sql = mysql.format(sql, [title, pantryId])\n\n  pool.query(sql, (err, results) => {\n    if(err) return handleSQLError(res, err)\n    return res.status(204).json()\n  })\n\n}\n\nconst updateAutoAddShop = (req, res) => {\n\nlet {pantryId} = req.params\nlet {boo} = req.body\n\nlet sql ='UPDATE pantriesSettings SET autoAdd= ?  WHERE pantrySettingId= ? '\n\nsql= mysql.format(sql, [boo, pantryId])\n\npool.query(sql, (err, results) => {\n  if(err) return handleSQLError(res, err)\n  return res.status(204).json()\n})\n\n}\n\nmodule.exports = {\n  updateAutoAddShop,\n  updateTitle\n}\n"]},"metadata":{},"sourceType":"script"}